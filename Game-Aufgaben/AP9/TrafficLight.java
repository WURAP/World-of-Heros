import java.awt.*;
import javax.swing.*;
import java.awt.event.*;
import javax.swing.border.*;
public class TrafficLight extends JFrame {
    //JButton b1, b2, b3;
      Signal green = new Signal(Color.green);
      Signal yellow = new Signal(Color.yellow);
      Signal red = new Signal(Color.red);
    public TrafficLight(){
        super("Traffic Light");
        getContentPane().setLayout(new GridLayout(2, 1));
/*      b1 = new JButton("Red");
        b2 = new JButton("Yellow");
        b3 = new JButton("Green");
        b1.addActionListener(this);
        b2.addActionListener(this);
        b3.addActionListener(this);        
*/
        green.turnOn(false);
        yellow.turnOn(false);
        red.turnOn(true);
        JPanel p1 = new JPanel(new GridLayout(3,1));
        p1.add(red);
        p1.add(yellow);
        p1.add(green);
 /*
        JPanel p2 = new JPanel(new FlowLayout());
        p2.add(b1);
        p2.add(b2);
        p2.add(b3);
*/
        getContentPane().add(p1);
 //     getContentPane().add(p2);
        pack();
        }

    public static void main(String[] args){
        TrafficLight tl = new TrafficLight();        
        tl.setVisible(true);
        
        double[] x = {141.85,
                143.18,
                146.8,
                144.61,
                142.3,
                144.22,
                151.46,
                138.89,
                140.68,
                140.57,
                141.2,
                142.06,
                141.96,
                141.88,
                145.6,
                147.81,
                146.91,
                147.75,
                142.51,
                141.85,
                143.18,
                146.8,
                144.61,
                142.3,
                144.22,
                151.46,
                138.89,
                140.68,
                140.57,
                141.2,
                142.06,
                141.96,
                141.88,
                145.6,
                147.81,
                146.91,
                147.75,
                142.51,
141.85,
                143.18,
                146.8,
                144.61,
                142.3,
                144.22,
                151.46,
                138.89,
                140.68,
                140.57,
                141.2,
                142.06,
                141.96,
                141.88,
                145.6,
                147.81,
                146.91,
                147.75,
                142.51,141.85,
                143.18,
                146.8,
                144.61,
                142.3,
                144.22,
                151.46,
                138.89,
                140.68,
                140.57,
                141.2,
                142.06,
                141.96,
                141.88,
                145.6,
                147.81,
                146.91,
                147.75,
                142.51,141.85,
                143.18,
                146.8,
                144.61,
                142.3,
                144.22,
                151.46,
                138.89,
                140.68,
                140.57,
                141.2,
                142.06,
                141.96,
                141.88,
                145.6,
                147.81,
                146.91,
                147.75,
                142.51,141.85,
                143.18,
                146.8,
                144.61,
                142.3,
                144.22,
                151.46,
                138.89,
                140.68,
                140.57,
                141.2,
                142.06,
                141.96,
                141.88,
                145.6,
                147.81,
                146.91,
                147.75,
                142.51,141.85,
                143.18,
                146.8,
                144.61,
                142.3,
                144.22,
                151.46,
                138.89,
                140.68,
                140.57,
                141.2,
                142.06,
                141.96,
                141.88,
                145.6,
                147.81,
                146.91,
                147.75,
                142.51,141.85,
                143.18,
                146.8,
                144.61,
                142.3,
                144.22,
                151.46,
                138.89,
                140.68,
                140.57,
                141.2,
                142.06,
                141.96,
                141.88,
                145.6,
                147.81,
                146.91,
                147.75,
                142.51,141.85,
                143.18,
                146.8,
                144.61,
                142.3,
                144.22,
                151.46,
                138.89,
                140.68,
                140.57,
                141.2,
                142.06,
                141.96,
                141.88,
                145.6,
                147.81,
                146.91,
                147.75,
                142.51,141.85,
                143.18,
                146.8,
                144.61,
                142.3,
                144.22,
                151.46,
                138.89,
                140.68,
                140.57,
                141.2,
                142.06,
                141.96,
                141.88,
                145.6,
                147.81,
                146.91,
                147.75,
                142.51,141.85,
                143.18,
                146.8,
                144.61,
                142.3,
                144.22,
                151.46,
                138.89,
                140.68,
                140.57,
                141.2,
                142.06,
                141.96,
                141.88,
                145.6,
                147.81,
                146.91,
                147.75,
                142.51,141.85,
                143.18,
                146.8,
                144.61,
                142.3,
                144.22,
                151.46,
                138.89,
                140.68,
                140.57,
                141.2,
                142.06,
                141.96,
                141.88,
                145.6,
                147.81,
                146.91,
                147.75,
                142.51,141.85,
                143.18,
                146.8,
                144.61,
                142.3,
                144.22,
                151.46,
                138.89,
                140.68,
                140.57,
                141.2,
                142.06,
                141.96,
                141.88,
                145.6,
                147.81,
                146.91,
                147.75,
                142.51,141.85,
                143.18,
                146.8,
                144.61,
                142.3,
                144.22,
                151.46,
                138.89,
                140.68,
                140.57,
                141.2,
                142.06,
                141.96,
                141.88,
                145.6,
                147.81,
                146.91,
                147.75,
                142.51,141.85,
                143.18,
                146.8,
                144.61,
                142.3,
                144.22,
                151.46,
                138.89,
                140.68,
                140.57,
                141.2,
                142.06,
                141.96,
                141.88,
                145.6,
                147.81,
                146.91,
                147.75,
                142.51,141.85,
                143.18,
                146.8,
                144.61,
                142.3,
                144.22,
                151.46,
                138.89,
                140.68,
                140.57,
                141.2,
                142.06,
                141.96,
                141.88,
                145.6,
                147.81,
                146.91,
                147.75,
                142.51,141.85,
                143.18,
                146.8,
                144.61,
                142.3,
                144.22,
                151.46,
                138.89,
                140.68,
                140.57,
                141.2,
                142.06,
                141.96,
                141.88,
                145.6,
                147.81,
                146.91,
                147.75,
                142.51,141.85,
                143.18,
                146.8,
                144.61,
                142.3,
                144.22,
                151.46,
                138.89,
                140.68,
                140.57,
                141.2,
                142.06,
                141.96,
                141.88,
                145.6,
                147.81,
                146.91,
                147.75,
                142.51,141.85,
                143.18,
                146.8,
                144.61,
                142.3,
                144.22,
                151.46,
                138.89,
                140.68,
                140.57,
                141.2,
                142.06,
                141.96,
                141.88,
                145.6,
                147.81,
                146.91,
                147.75,
                142.51,141.85,
                143.18,
                146.8,
                144.61,
                142.3,
                144.22,
                151.46,
                138.89,
                140.68,
                140.57,
                141.2,
                142.06,
                141.96,
                141.88,
                145.6,
                147.81,
                146.91,
                147.75,
                142.51,141.85,
                143.18,
                146.8,
                144.61,
                142.3,
                144.22,
                151.46,
                138.89,
                140.68,
                140.57,
                141.2,
                142.06,
                141.96,
                141.88,
                145.6,
                147.81,
                146.91,
                147.75,
                142.51,141.85,
                143.18,
                146.8,
                144.61,
                142.3,
                144.22,
                151.46,
                138.89,
                140.68,
                140.57,
                141.2,
                142.06,
                141.96,
                141.88,
                145.6,
                147.81,
                146.91,
                147.75,
                142.51,141.85,
                143.18,
                146.8,
                144.61,
                142.3,
                144.22,
                151.46,
                138.89,
                140.68,
                140.57,
                141.2,
                142.06,
                141.96,
                141.88,
                145.6,
                147.81,
                146.91,
                147.75,
                142.51,
                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,
                
        };
                
                
        double[] x1 = {141.85,
                1143.18,
                1146.8,
                1144.61,
                1412.3,
                1414.22,
                1511.46,
                1138.89,
                1140.68,
                1140.57,
                1411.2,
               
                
        };
        
        double[] x2 = {41.85,
                43.18,
                46.8,
                44.61,
                12.3,
                14.22,
                11.46,
                38.89,
                40.68,
                40.57,
                11.2,
               
                
        };
              
                tl.testen(x);
    }    
    
    
 public void testen(double[] impedanceArray)  {
	 int n = 0;
	 double sum=0;
        
        for(int i = 0; i < impedanceArray.length; i++){
        	n++;

            
              double kadjustedImpedance = impedanceArray[i]/2.0;
              sum += kadjustedImpedance;
              double adjustedImpedance = sum/i;
              if (n%200==0) {
              
          
            
              if(adjustedImpedance <= 0){ //no data yet...
                  green.turnOn(false);            
                  yellow.turnOn(false);
                  red.turnOn(true);
              } else if(adjustedImpedance > 0 && adjustedImpedance <= 10){ //very good signal quality
                  red.turnOn(false);            
                  yellow.turnOn(false);
                  green.turnOn(true);
              } else if(adjustedImpedance > 10 && adjustedImpedance <= 50){ //good signal quality
                  red.turnOn(false);            
                  yellow.turnOn(false);
                  green.turnOn(true);
              } else if(adjustedImpedance > 50 && adjustedImpedance <= 100){ //acceptable signal quality
                  yellow.turnOn(true);            
                  green.turnOn(false);
                  red.turnOn(false);
              } else if(adjustedImpedance > 100 && adjustedImpedance <= 150){ //questionable signal quality
                  yellow.turnOn(true);            
                  green.turnOn(false);
                  red.turnOn(false);
              } else if(adjustedImpedance > 150){ //bad signal quality
                  green.turnOn(false);            
                  yellow.turnOn(false);
                  red.turnOn(true);
        }
        
              try {
              Thread.sleep(500);}
              
        catch(InterruptedException e){
            System.out.println("thread 2 interrupted");
        }}
    
 }
    
    
    
 /*   public void actionPerformed(ActionEvent e){        
        if (e.getSource() == b1){
            green.turnOn(false);            
            yellow.turnOn(false);
            red.turnOn(true);
        } else if (e.getSource() == b2){
            yellow.turnOn(true);            
            green.turnOn(false);
            red.turnOn(false);
        } else if (e.getSource() == b3){
            red.turnOn(false);            
            yellow.turnOn(false);
            green.turnOn(true);
        }
    }*/  
}   
class Signal extends JPanel{
    Color on;
    int radius = 40;
    int border = 10;
    boolean change;
    Signal(Color color){
        on = color;
        change = true;
    }
    public void turnOn(boolean a){
        change = a;
        repaint();        
    }
    public Dimension getPreferredSize(){
        int size = (radius+border)*2;
        return new Dimension( size, size );
    }
    public void paintComponent(Graphics g){
        g.setColor( Color.black );
        g.fillRect(0,0,getWidth(),getHeight());
        if (change){
            g.setColor( on );
        } else {
            g.setColor( on.darker().darker().darker() );
        }
        g.fillOval( border,border,2*radius,2*radius );
    }
}
}